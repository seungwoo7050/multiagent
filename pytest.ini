[pytest]
# 1. 테스트 검색 경로 및 규칙 설정
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
asyncio_mode = auto
asyncio_default_fixture_loop_scope = session

# 2. 커스텀 마커 등록
markers =
    unittest: mark a test as a unit test
    integration: mark a test as an integration test
    load: mark a test as a load test
    asyncio: mark a test as using asyncio
    benchmark: marks tests as benchmark tests (run manually)
    e2e_real_llm: marks tests as end-to-end tests with real LLM calls (potentially slow and costly) # <-- 추가
    timeout: mark test with timeout


# 3. 테스트 실행 중 로그 설정
log_cli = True
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s

# 4. 기본 적용 옵션 설정
# 항상 상세 모드(-v)로 실행하고, 등록되지 않은 마커 사용 시 오류 발생(--strict-markers)
addopts = -v --strict-markers

env_files =
    .env